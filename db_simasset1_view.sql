CREATE VIEW `v101_ho` AS select `a`.`id` AS `id`,`a`.`property_id` AS `property_id`,`a`.`TransactionNo` AS `TransactionNo`,`a`.`TransactionDate` AS `TransactionDate`,`a`.`HandedOverTo` AS `HandedOverTo`,`a`.`DepartmentTo` AS `DepartmentTo`,`a`.`HandedOverBy` AS `HandedOverBy`,`a`.`DepartmentBy` AS `DepartmentBy`,`a`.`Sign1` AS `Sign1`,`a`.`Sign2` AS `Sign2`,`a`.`Sign3` AS `Sign3`,`a`.`Sign4` AS `Sign4`,`b`.`id` AS `hodetail_id`,`b`.`asset_id` AS `asset_id`,`c`.`Property` AS `Property`,`c`.`TemplateFile` AS `TemplateFile`,`d`.`Department` AS `hoDepartmentTo`,`e`.`Signature` AS `hoSignatureTo`,`e`.`JobTitle` AS `hoJobTitleTo`,`f`.`Department` AS `hoDepartmentBy`,`g`.`Signature` AS `hoSignatureBy`,`g`.`JobTitle` AS `hoJobTitleBy`,`h`.`Code` AS `Code`,`h`.`Description` AS `Description`,`n`.`Description` AS `Type`,`o`.`Description` AS `Group`,`h`.`ProcurementDate` AS `ProcurementDate`,`h`.`ProcurementCurrentCost` AS `ProcurementCurrentCost`,`o`.`EstimatedLife` AS `Estimated Life (in Year)`,`h`.`Qty` AS `Qty`,`h`.`Remarks` AS `Remarks`,`i`.`Signature` AS `Sign1Signature`,`i`.`JobTitle` AS `Sign1JobTitle`,`j`.`Signature` AS `Sign2Signature`,`j`.`JobTitle` AS `Sign2JobTitle`,`k`.`Signature` AS `Sign3Signature`,`k`.`JobTitle` AS `Sign3JobTitle`,`l`.`Signature` AS `Sign4Signature`,`l`.`JobTitle` AS `Sign4JobTitle`,`m`.`Department` AS `AssetDepartment` from ((((((((((((((`t101_ho_head` `a` left join `t102_ho_detail` `b` on(`a`.`id` = `b`.`hohead_id`)) left join `t001_property` `c` on(`a`.`property_id` = `c`.`id`)) left join `t002_department` `d` on(`a`.`DepartmentTo` = `d`.`id`)) left join `t003_signature` `e` on(`a`.`HandedOverTo` = `e`.`id`)) left join `t002_department` `f` on(`a`.`DepartmentBy` = `f`.`id`)) left join `t003_signature` `g` on(`a`.`HandedOverBy` = `g`.`id`)) left join `t004_asset` `h` on(`b`.`asset_id` = `h`.`id`)) left join `t003_signature` `i` on(`a`.`Sign1` = `i`.`id`)) left join `t003_signature` `j` on(`a`.`Sign2` = `j`.`id`)) left join `t003_signature` `k` on(`a`.`Sign3` = `k`.`id`)) left join `t003_signature` `l` on(`a`.`Sign4` = `l`.`id`)) left join `t002_department` `m` on(`h`.`department_id` = `m`.`id`)) left join `t007_assettype` `n` on(`h`.`type_id` = `n`.`id`)) left join `t005_assetgroup` `o` on(`n`.`assetgroup_id` = `o`.`id`));

CREATE VIEW `v101_ho_2` AS select `a`.`id` AS `id`,`a`.`property_id` AS `property_id`,`b`.`Property` AS `property`,`b`.`TemplateFile` AS `templatefile`,`a`.`TransactionNo` AS `transactionno`,`a`.`TransactionDate` AS `transactiondate`,`a`.`HandedOverTo` AS `handedoverto`,`c`.`Signature` AS `hoto`,`a`.`DepartmentTo` AS `departmentto`,`d`.`Department` AS `deptto`,`a`.`HandedOverBy` AS `handedoverby`,`e`.`Signature` AS `hoby`,`a`.`DepartmentBy` AS `departmentby`,`f`.`Department` AS `deptby`,`a`.`Sign1` AS `sign1`,`g`.`Signature` AS `signa1`,`g`.`JobTitle` AS `jobt1`,`a`.`Sign2` AS `sign2`,`h`.`Signature` AS `signa2`,`h`.`JobTitle` AS `jobt2`,`a`.`Sign3` AS `sign3`,`i`.`Signature` AS `signa3`,`i`.`JobTitle` AS `jobt3`,`a`.`Sign4` AS `sign4`,`j`.`Signature` AS `signa4`,`j`.`JobTitle` AS `jobt4`,`k`.`id` AS `hodetail_id`,`k`.`asset_id` AS `asset_id`,`l`.`Code` AS `code`,`l`.`Description` AS `description`,`l`.`department_id` AS `department_id`,`m`.`Department` AS `asset_dept`,`l`.`ProcurementDate` AS `procurementdate`,`l`.`ProcurementCurrentCost` AS `procurementcurrentcost`,`l`.`Remarks` AS `remarks` from ((((((((((((`t101_ho_head` `a` left join `t001_property` `b` on(`a`.`property_id` = `b`.`id`)) left join `t003_signature` `c` on(`a`.`HandedOverTo` = `c`.`id`)) left join `t002_department` `d` on(`a`.`DepartmentTo` = `d`.`id`)) left join `t003_signature` `e` on(`a`.`HandedOverBy` = `e`.`id`)) left join `t002_department` `f` on(`a`.`DepartmentBy` = `f`.`id`)) left join `t003_signature` `g` on(`a`.`Sign1` = `g`.`id`)) left join `t003_signature` `h` on(`a`.`Sign2` = `h`.`id`)) left join `t003_signature` `i` on(`a`.`Sign3` = `i`.`id`)) left join `t003_signature` `j` on(`a`.`Sign4` = `j`.`id`)) left join `t102_ho_detail` `k` on(`a`.`id` = `k`.`hohead_id`)) left join `t004_asset` `l` on(`k`.`asset_id` = `l`.`id`)) left join `t002_department` `m` on(`l`.`department_id` = `m`.`id`));

CREATE VIEW `v104_assetglobal` AS select `a`.`Description` AS `groupDescription`,`b`.`Description` AS `typeDescription`,case when `b`.`Code` = 'TNH' then 'Tanah' when `b`.`Code` = 'BGN' then 'Bangunan' when `b`.`assetgroup_id` = 2 then 'Peralatan' when (`b`.`assetgroup_id` = 3 and `b`.`Code` <> '0V1' and `b`.`Code` <> '0V2') then 'Inventaris FF&E' when (`b`.`Code` = '0V1' or `b`.`Code` = '0V2') then 'Kendaraan' end AS `bookValue2Label`,case when `b`.`Code` = 'TNH' then 54216539197 when `b`.`Code` = 'BGN' then 2400000000 when `b`.`assetgroup_id` = 2 then 1183010327 when (`b`.`assetgroup_id` = 3 and `b`.`Code` <> '0V1' and `b`.`Code` <> '0V2') then 2256829315 when (`b`.`Code` = '0V1' or `b`.`Code` = '0V2') then 397272093 end AS `bookValue2` from (`t005_assetgroup` `a` left join `t007_assettype` `b` on(`a`.`id` = `b`.`assetgroup_id`)) where `b`.`Description` <> 'Kitchen Utensil' order by `a`.`id`,`b`.`id`;

CREATE VIEW `v105_disposal` AS select `a`.`id` AS `id`,`a`.`property_id` AS `property_id`,`b`.`Property` AS `property`,`b`.`TemplateFile2` AS `templatefile2`,`a`.`TransactionNo` AS `transactionno`,`a`.`TransactionDate` AS `transactiondate`,`a`.`RecommendedBy` AS `recommendedby`,`c`.`Signature` AS `signatureby`,`c`.`JobTitle` AS `positionby`,`a`.`CE` AS `ce_id`,`e`.`Signature` AS `signaturece`,`a`.`ITM` AS `itm_id`,`g`.`Signature` AS `signatureitm`,`a`.`Sign1` AS `sign1`,`h`.`JobTitle` AS `jobt1`,`a`.`Sign2` AS `sign2`,`i`.`JobTitle` AS `jobt2`,`a`.`Sign3` AS `sign3`,`j`.`JobTitle` AS `jobt3`,`k`.`id` AS `disposaldetail_id`,`k`.`asset_id` AS `asset_id`,`l`.`Code` AS `code`,`l`.`Description` AS `description`,`l`.`department_id` AS `department_id`,`m`.`Department` AS `asset_dept`,`l`.`ProcurementDate` AS `procurementdate`,`l`.`ProcurementCurrentCost` AS `procurementcurrentcost`,`l`.`Remarks` AS `remarks`,`k`.`disposaldate` AS `disposaldate`,`n`.`Status` AS `condstatus`,`o`.`Status` AS `reasonstatus` from ((((((((((((`t105_disposalhead` `a` left join `t001_property` `b` on(`a`.`property_id` = `b`.`id`)) left join `t003_signature` `c` on(`a`.`RecommendedBy` = `c`.`id`)) left join `t003_signature` `e` on(`a`.`CE` = `e`.`id`)) left join `t003_signature` `g` on(`a`.`ITM` = `g`.`id`)) left join `t003_signature` `h` on(`a`.`Sign1` = `h`.`id`)) left join `t003_signature` `i` on(`a`.`Sign2` = `i`.`id`)) left join `t003_signature` `j` on(`a`.`Sign3` = `j`.`id`)) left join `t106_disposaldetail` `k` on(`a`.`id` = `k`.`disposalhead_id`)) left join `t004_asset` `l` on(`k`.`asset_id` = `l`.`id`)) left join `t002_department` `m` on(`l`.`department_id` = `m`.`id`)) left join `t010_condition` `n` on(`k`.`cond_id` = `n`.`id`)) left join `t011_reason` `o` on(`k`.`reason_id` = `o`.`id`));
